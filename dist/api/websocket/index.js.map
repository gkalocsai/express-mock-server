{"version":3,"sources":["../../../lib/api/websocket/index.js"],"names":["router","express","Router","websocketApi","wsServer","post","request","response","clients","forEach","ws","send","JSON","stringify","body","status","close"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,CAAe,EAAf,CAAf;;AAEO,MAAMC,YAAY,GAAIC,QAAD,IAAc;AACxCJ,EAAAA,MAAM,CAACK,IAAP,CAAY,4BAAZ,EAA0C,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAC/DH,IAAAA,QAAQ,CAACI,OAAT,CAAiBC,OAAjB,CAA0BC,EAAD,IAAQ;AAC/BA,MAAAA,EAAE,CAACC,IAAH,CAAQC,IAAI,CAACC,SAAL,CAAeP,OAAO,CAACQ,IAAvB,CAAR;AACD,KAFD;AAIAP,IAAAA,QAAQ,CAACI,IAAT,CAAc;AACZI,MAAAA,MAAM,EAAE;AADI,KAAd;AAGD,GARD;AAUAf,EAAAA,MAAM,CAACK,IAAP,CAAY,+BAAZ,EAA6C,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAClEH,IAAAA,QAAQ,CAACI,OAAT,CAAiBC,OAAjB,CAA0BC,EAAD,IAAQ;AAC/BA,MAAAA,EAAE,CAACM,KAAH;AACD,KAFD;AAIAT,IAAAA,QAAQ,CAACI,IAAT,CAAc;AACZI,MAAAA,MAAM,EAAE;AADI,KAAd;AAGD,GARD;AAUA,SAAOf,MAAP;AACD,CAtBM","sourcesContent":["import express from 'express';\r\n\r\nconst router = express.Router({});\r\n\r\nexport const websocketApi = (wsServer) => {\r\n  router.post('/websocket/clients/message', (request, response) => {\r\n    wsServer.clients.forEach((ws) => {\r\n      ws.send(JSON.stringify(request.body));\r\n    });\r\n\r\n    response.send({\r\n      status: true,\r\n    });\r\n  });\r\n\r\n  router.post('/websocket/clients/disconnect', (request, response) => {\r\n    wsServer.clients.forEach((ws) => {\r\n      ws.close();\r\n    });\r\n\r\n    response.send({\r\n      status: true,\r\n    });\r\n  });\r\n\r\n  return router;\r\n};\r\n"],"file":"index.js"}